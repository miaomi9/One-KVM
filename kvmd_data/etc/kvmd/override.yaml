kvmd:
    info:
        meta: kvmd_data/etc/kvmd/meta.yaml
        extras: kvmd_data/usr/share/kvmd/extras
        hw:
            platform: kvmd_data/usr/share/kvmd/platform
            vcgencmd_cmd: kvmd_data/usr/bin/vcgencmd
    auth:
        enabled: true
        internal:
            file: kvmd_data/etc/kvmd/htpasswd

        totp:
            secret:
                file: kvmd_data/etc/kvmd/totp.secret


    server:
        unix: kvmd_data/run/kvmd/kvmd.sock
        web_path: kvmd_data/usr/share/kvmd/web
        host: 0.0.0.0
        port: 8080

    atx:
        type: disabled

    hid:
        type: ch9329
        device: COM7
        speed: 115200
        read_timeout: 0.3

        jiggler:
            active: false
            enabled: true

        mouse_alt:
            device: /dev/kvmd-hid-mouse-alt

        keymap: kvmd_data/usr/share/kvmd/keymaps/en-us

    msd:
        #type: otg
        remount_cmd: /bin/true
        msd_path: /var/lib/kvmd/msd
        normalfiles_path: NormalFiles
        normalfiles_size: 256

    ocr:
        langs:
            - eng
            - chi_sim

    streamer:
        resolution:
            default: 1280x720

        forever: true

        desired_fps:
            default: 30
            max: 60

        h264_bitrate:
            default: 8000

        pre_start_cmd: kvmd_data/win/true.exe
        post_stop_cmd: kvmd_data/win/true.exe

        cmd:
            - "C:/Users/mofen/miniconda3/python.exe"
            - "ustreamer-win/ustreamer-win.py"
            - "--device=0"
            - "--resolution={resolution}"
            - "--fps={desired_fps}"
            - "--quality=100"


        unix: http://localhost:8000

    
ipmi:
    auth:
        file: kvmd_data/etc/kvmd/ipmipasswd

pst:
    remount_cmd: 
    - "kvmd_data/win/true.exe"


vnc:
    keymap: kvmd_data/usr/share/kvmd/keymaps/en-us
    mouse_output: usb
    server:
        tls:
            x509:
                cert: kvmd_data/etc/kvmd/vnc/ssl/server.crt
                key: kvmd_data/etc/kvmd/vnc/ssl/server.key

    auth:
        vncauth:
            enabled: true
            file: kvmd_data/etc/kvmd/vncpasswd

    memsink:
        jpeg:
            sink: "kvmd::ustreamer::jpeg"

otgnet:
    commands:
        pre_start_cmd:
        - "kvmd_data/win/true.exe"
        post_stop_cmd:
        - "kvmd_data/win/true.exe"
        post_start_cmd:
            - "kvmd_data/win/true.exe"
        pre_stop_cmd:
            - "kvmd_data/win/true.exe"
    iface:
        ip_cmd:
        - "kvmd_data/win/true.exe"
    firewall:
        iptables_cmd:
        - "kvmd_data/win/true.exe"

nginx:
    http:
        port: 8080
    https:
        port: 4430

janus:
    cmd:
    - "kvmd_data/win/true.exe"